{"error":"MongooseError: Cannot call `device_tokens.createIndex()` before initial connection is complete if `bufferCommands = false`. Make sure you `await mongoose.connect()` if you have `bufferCommands = false`.\n    at NativeCollection.<computed> [as createIndex] (C:\\Users\\bhumi\\OneDrive\\Desktop\\notification-service\\node_modules\\mongoose\\lib\\drivers\\node-mongodb-native\\collection.js:237:15)\n    at create (C:\\Users\\bhumi\\OneDrive\\Desktop\\notification-service\\node_modules\\mongoose\\lib\\model.js:1757:34)\n    at C:\\Users\\bhumi\\OneDrive\\Desktop\\notification-service\\node_modules\\mongoose\\lib\\model.js:1715:7\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","level":"error","message":"Index creation failed","timestamp":"2025-09-06T07:05:57.935Z"}
{"error":"MongooseError: Cannot call `device_tokens.createIndex()` before initial connection is complete if `bufferCommands = false`. Make sure you `await mongoose.connect()` if you have `bufferCommands = false`.\n    at NativeCollection.<computed> [as createIndex] (C:\\Users\\bhumi\\OneDrive\\Desktop\\notification-service\\node_modules\\mongoose\\lib\\drivers\\node-mongodb-native\\collection.js:237:15)\n    at create (C:\\Users\\bhumi\\OneDrive\\Desktop\\notification-service\\node_modules\\mongoose\\lib\\model.js:1757:34)\n    at C:\\Users\\bhumi\\OneDrive\\Desktop\\notification-service\\node_modules\\mongoose\\lib\\model.js:1715:7\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","level":"error","message":"Index creation failed","timestamp":"2025-09-06T07:17:04.537Z"}
{"error":"MongooseError: Cannot call `device_tokens.createIndex()` before initial connection is complete if `bufferCommands = false`. Make sure you `await mongoose.connect()` if you have `bufferCommands = false`.\n    at NativeCollection.<computed> [as createIndex] (C:\\Users\\bhumi\\OneDrive\\Desktop\\notification-service\\node_modules\\mongoose\\lib\\drivers\\node-mongodb-native\\collection.js:237:15)\n    at create (C:\\Users\\bhumi\\OneDrive\\Desktop\\notification-service\\node_modules\\mongoose\\lib\\model.js:1757:34)\n    at C:\\Users\\bhumi\\OneDrive\\Desktop\\notification-service\\node_modules\\mongoose\\lib\\model.js:1715:7\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","level":"error","message":"Index creation failed","timestamp":"2025-09-06T07:19:15.824Z"}
{"error":"MongoServerError: Error in specification { partialFilterExpression: { status: { $ne: \"expired\" } }, background: true, name: \"lifecycle.expiresAt_1_status_1\", key: { lifecycle.expiresAt: 1, status: 1 }, v: 2 } :: caused by :: Expression not supported in partial index: $not\n    status $eq \"expired\"\n\n    at Connection.sendCommand (C:\\Users\\bhumi\\OneDrive\\Desktop\\notification-service\\node_modules\\mongodb\\lib\\cmap\\connection.js:305:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Connection.command (C:\\Users\\bhumi\\OneDrive\\Desktop\\notification-service\\node_modules\\mongodb\\lib\\cmap\\connection.js:333:26)\n    at async Server.command (C:\\Users\\bhumi\\OneDrive\\Desktop\\notification-service\\node_modules\\mongodb\\lib\\sdam\\server.js:171:29)\n    at async CreateIndexesOperation.executeCommand (C:\\Users\\bhumi\\OneDrive\\Desktop\\notification-service\\node_modules\\mongodb\\lib\\operations\\command.js:76:16)\n    at async CreateIndexesOperation.execute (C:\\Users\\bhumi\\OneDrive\\Desktop\\notification-service\\node_modules\\mongodb\\lib\\operations\\indexes.js:122:9)\n    at async tryOperation (C:\\Users\\bhumi\\OneDrive\\Desktop\\notification-service\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:207:20)\n    at async executeOperation (C:\\Users\\bhumi\\OneDrive\\Desktop\\notification-service\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:75:16)\n    at async Collection.createIndex (C:\\Users\\bhumi\\OneDrive\\Desktop\\notification-service\\node_modules\\mongodb\\lib\\collection.js:329:25)","level":"error","message":"Index creation failed","timestamp":"2025-09-06T07:29:10.927Z"}
{"error":"MongoServerError: Error in specification { partialFilterExpression: { status: { $ne: \"expired\" } }, background: true, name: \"lifecycle.expiresAt_1_status_1\", key: { lifecycle.expiresAt: 1, status: 1 }, v: 2 } :: caused by :: Expression not supported in partial index: $not\n    status $eq \"expired\"\n\n    at Connection.sendCommand (C:\\Users\\bhumi\\OneDrive\\Desktop\\notification-service\\node_modules\\mongodb\\lib\\cmap\\connection.js:305:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Connection.command (C:\\Users\\bhumi\\OneDrive\\Desktop\\notification-service\\node_modules\\mongodb\\lib\\cmap\\connection.js:333:26)\n    at async Server.command (C:\\Users\\bhumi\\OneDrive\\Desktop\\notification-service\\node_modules\\mongodb\\lib\\sdam\\server.js:171:29)\n    at async CreateIndexesOperation.executeCommand (C:\\Users\\bhumi\\OneDrive\\Desktop\\notification-service\\node_modules\\mongodb\\lib\\operations\\command.js:76:16)\n    at async CreateIndexesOperation.execute (C:\\Users\\bhumi\\OneDrive\\Desktop\\notification-service\\node_modules\\mongodb\\lib\\operations\\indexes.js:122:9)\n    at async tryOperation (C:\\Users\\bhumi\\OneDrive\\Desktop\\notification-service\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:207:20)\n    at async executeOperation (C:\\Users\\bhumi\\OneDrive\\Desktop\\notification-service\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:75:16)\n    at async Collection.createIndex (C:\\Users\\bhumi\\OneDrive\\Desktop\\notification-service\\node_modules\\mongodb\\lib\\collection.js:329:25)","level":"error","message":"Index creation failed","timestamp":"2025-09-06T08:00:56.393Z"}
{"error":"MongoServerError: Error in specification { partialFilterExpression: { status: { $ne: \"expired\" } }, background: true, name: \"lifecycle.expiresAt_1_status_1\", key: { lifecycle.expiresAt: 1, status: 1 }, v: 2 } :: caused by :: Expression not supported in partial index: $not\n    status $eq \"expired\"\n\n    at Connection.sendCommand (C:\\Users\\bhumi\\OneDrive\\Desktop\\notification-service\\node_modules\\mongodb\\lib\\cmap\\connection.js:305:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Connection.command (C:\\Users\\bhumi\\OneDrive\\Desktop\\notification-service\\node_modules\\mongodb\\lib\\cmap\\connection.js:333:26)\n    at async Server.command (C:\\Users\\bhumi\\OneDrive\\Desktop\\notification-service\\node_modules\\mongodb\\lib\\sdam\\server.js:171:29)\n    at async CreateIndexesOperation.executeCommand (C:\\Users\\bhumi\\OneDrive\\Desktop\\notification-service\\node_modules\\mongodb\\lib\\operations\\command.js:76:16)\n    at async CreateIndexesOperation.execute (C:\\Users\\bhumi\\OneDrive\\Desktop\\notification-service\\node_modules\\mongodb\\lib\\operations\\indexes.js:122:9)\n    at async tryOperation (C:\\Users\\bhumi\\OneDrive\\Desktop\\notification-service\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:207:20)\n    at async executeOperation (C:\\Users\\bhumi\\OneDrive\\Desktop\\notification-service\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:75:16)\n    at async Collection.createIndex (C:\\Users\\bhumi\\OneDrive\\Desktop\\notification-service\\node_modules\\mongodb\\lib\\collection.js:329:25)","level":"error","message":"Index creation failed","timestamp":"2025-09-06T08:03:59.222Z"}
{"error":"MongoServerError: Error in specification { partialFilterExpression: { status: { $ne: \"expired\" } }, background: true, name: \"lifecycle.expiresAt_1_status_1\", key: { lifecycle.expiresAt: 1, status: 1 }, v: 2 } :: caused by :: Expression not supported in partial index: $not\n    status $eq \"expired\"\n\n    at Connection.sendCommand (C:\\Users\\bhumi\\OneDrive\\Desktop\\notification-service\\node_modules\\mongodb\\lib\\cmap\\connection.js:305:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Connection.command (C:\\Users\\bhumi\\OneDrive\\Desktop\\notification-service\\node_modules\\mongodb\\lib\\cmap\\connection.js:333:26)\n    at async Server.command (C:\\Users\\bhumi\\OneDrive\\Desktop\\notification-service\\node_modules\\mongodb\\lib\\sdam\\server.js:171:29)\n    at async CreateIndexesOperation.executeCommand (C:\\Users\\bhumi\\OneDrive\\Desktop\\notification-service\\node_modules\\mongodb\\lib\\operations\\command.js:76:16)\n    at async CreateIndexesOperation.execute (C:\\Users\\bhumi\\OneDrive\\Desktop\\notification-service\\node_modules\\mongodb\\lib\\operations\\indexes.js:122:9)\n    at async tryOperation (C:\\Users\\bhumi\\OneDrive\\Desktop\\notification-service\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:207:20)\n    at async executeOperation (C:\\Users\\bhumi\\OneDrive\\Desktop\\notification-service\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:75:16)\n    at async Collection.createIndex (C:\\Users\\bhumi\\OneDrive\\Desktop\\notification-service\\node_modules\\mongodb\\lib\\collection.js:329:25)","level":"error","message":"Index creation failed","timestamp":"2025-09-06T08:16:36.051Z"}
{"error":"MongoPoolClearedError: Connection pool for localhost:27017 was cleared because another operation failed with: \"connection <monitor> to [::1]:27017 timed out\"\n    at ConnectionPool.processWaitQueue (C:\\Users\\bhumi\\OneDrive\\Desktop\\notification-service\\node_modules\\mongodb\\lib\\cmap\\connection_pool.js:449:82)\n    at ConnectionPool.clear (C:\\Users\\bhumi\\OneDrive\\Desktop\\notification-service\\node_modules\\mongodb\\lib\\cmap\\connection_pool.js:243:14)\n    at updateServers (C:\\Users\\bhumi\\OneDrive\\Desktop\\notification-service\\node_modules\\mongodb\\lib\\sdam\\topology.js:517:29)\n    at Topology.serverUpdateHandler (C:\\Users\\bhumi\\OneDrive\\Desktop\\notification-service\\node_modules\\mongodb\\lib\\sdam\\topology.js:393:9)\n    at Server.<anonymous> (C:\\Users\\bhumi\\OneDrive\\Desktop\\notification-service\\node_modules\\mongodb\\lib\\sdam\\topology.js:500:77)\n    at Server.emit (node:events:518:28)\n    at markServerUnknown (C:\\Users\\bhumi\\OneDrive\\Desktop\\notification-service\\node_modules\\mongodb\\lib\\sdam\\server.js:347:12)\n    at Monitor.<anonymous> (C:\\Users\\bhumi\\OneDrive\\Desktop\\notification-service\\node_modules\\mongodb\\lib\\sdam\\server.js:56:51)\n    at Monitor.emit (node:events:518:28)\n    at onHeartbeatFailed (C:\\Users\\bhumi\\OneDrive\\Desktop\\notification-service\\node_modules\\mongodb\\lib\\sdam\\monitor.js:188:17)","level":"error","message":"Failed to clean up expired tokens","timestamp":"2025-09-07T11:28:30.637Z"}
{"error":"PoolClearedOnNetworkError: Connection to localhost:27017 interrupted due to server monitor timeout\n    at ConnectionPool.interruptInUseConnections (C:\\Users\\bhumi\\OneDrive\\Desktop\\notification-service\\node_modules\\mongodb\\lib\\cmap\\connection_pool.js:253:36)\n    at C:\\Users\\bhumi\\OneDrive\\Desktop\\notification-service\\node_modules\\mongodb\\lib\\cmap\\connection_pool.js:241:41\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","level":"error","message":"Failed to clean up expired tokens","timestamp":"2025-09-07T11:28:30.701Z"}
{"error":"MongoServerError: Error in specification { partialFilterExpression: { status: { $ne: \"expired\" } }, background: true, name: \"lifecycle.expiresAt_1_status_1\", key: { lifecycle.expiresAt: 1, status: 1 }, v: 2 } :: caused by :: Expression not supported in partial index: $not\n    status $eq \"expired\"\n\n    at Connection.sendCommand (C:\\Users\\bhumi\\OneDrive\\Desktop\\notification-service\\node_modules\\mongodb\\lib\\cmap\\connection.js:305:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Connection.command (C:\\Users\\bhumi\\OneDrive\\Desktop\\notification-service\\node_modules\\mongodb\\lib\\cmap\\connection.js:333:26)\n    at async Server.command (C:\\Users\\bhumi\\OneDrive\\Desktop\\notification-service\\node_modules\\mongodb\\lib\\sdam\\server.js:171:29)\n    at async CreateIndexesOperation.executeCommand (C:\\Users\\bhumi\\OneDrive\\Desktop\\notification-service\\node_modules\\mongodb\\lib\\operations\\command.js:76:16)\n    at async CreateIndexesOperation.execute (C:\\Users\\bhumi\\OneDrive\\Desktop\\notification-service\\node_modules\\mongodb\\lib\\operations\\indexes.js:122:9)\n    at async tryOperation (C:\\Users\\bhumi\\OneDrive\\Desktop\\notification-service\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:207:20)\n    at async executeOperation (C:\\Users\\bhumi\\OneDrive\\Desktop\\notification-service\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:75:16)\n    at async Collection.createIndex (C:\\Users\\bhumi\\OneDrive\\Desktop\\notification-service\\node_modules\\mongodb\\lib\\collection.js:329:25)","level":"error","message":"Index creation failed","timestamp":"2025-09-07T13:27:44.421Z"}
{"error":"MongoServerError: Error in specification { partialFilterExpression: { status: { $ne: \"expired\" } }, background: true, name: \"lifecycle.expiresAt_1_status_1\", key: { lifecycle.expiresAt: 1, status: 1 }, v: 2 } :: caused by :: Expression not supported in partial index: $not\n    status $eq \"expired\"\n\n    at Connection.sendCommand (C:\\Users\\bhumi\\OneDrive\\Desktop\\notification-service\\node_modules\\mongodb\\lib\\cmap\\connection.js:305:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Connection.command (C:\\Users\\bhumi\\OneDrive\\Desktop\\notification-service\\node_modules\\mongodb\\lib\\cmap\\connection.js:333:26)\n    at async Server.command (C:\\Users\\bhumi\\OneDrive\\Desktop\\notification-service\\node_modules\\mongodb\\lib\\sdam\\server.js:171:29)\n    at async CreateIndexesOperation.executeCommand (C:\\Users\\bhumi\\OneDrive\\Desktop\\notification-service\\node_modules\\mongodb\\lib\\operations\\command.js:76:16)\n    at async CreateIndexesOperation.execute (C:\\Users\\bhumi\\OneDrive\\Desktop\\notification-service\\node_modules\\mongodb\\lib\\operations\\indexes.js:122:9)\n    at async tryOperation (C:\\Users\\bhumi\\OneDrive\\Desktop\\notification-service\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:207:20)\n    at async executeOperation (C:\\Users\\bhumi\\OneDrive\\Desktop\\notification-service\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:75:16)\n    at async Collection.createIndex (C:\\Users\\bhumi\\OneDrive\\Desktop\\notification-service\\node_modules\\mongodb\\lib\\collection.js:329:25)","level":"error","message":"Index creation failed","timestamp":"2025-09-07T13:33:00.223Z"}
{"error":"MongoServerError: Error in specification { partialFilterExpression: { status: { $ne: \"expired\" } }, background: true, name: \"lifecycle.expiresAt_1_status_1\", key: { lifecycle.expiresAt: 1, status: 1 }, v: 2 } :: caused by :: Expression not supported in partial index: $not\n    status $eq \"expired\"\n\n    at Connection.sendCommand (C:\\Users\\bhumi\\OneDrive\\Desktop\\notification-service\\node_modules\\mongodb\\lib\\cmap\\connection.js:305:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Connection.command (C:\\Users\\bhumi\\OneDrive\\Desktop\\notification-service\\node_modules\\mongodb\\lib\\cmap\\connection.js:333:26)\n    at async Server.command (C:\\Users\\bhumi\\OneDrive\\Desktop\\notification-service\\node_modules\\mongodb\\lib\\sdam\\server.js:171:29)\n    at async CreateIndexesOperation.executeCommand (C:\\Users\\bhumi\\OneDrive\\Desktop\\notification-service\\node_modules\\mongodb\\lib\\operations\\command.js:76:16)\n    at async CreateIndexesOperation.execute (C:\\Users\\bhumi\\OneDrive\\Desktop\\notification-service\\node_modules\\mongodb\\lib\\operations\\indexes.js:122:9)\n    at async tryOperation (C:\\Users\\bhumi\\OneDrive\\Desktop\\notification-service\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:207:20)\n    at async executeOperation (C:\\Users\\bhumi\\OneDrive\\Desktop\\notification-service\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:75:16)\n    at async Collection.createIndex (C:\\Users\\bhumi\\OneDrive\\Desktop\\notification-service\\node_modules\\mongodb\\lib\\collection.js:329:25)","level":"error","message":"Index creation failed","timestamp":"2025-09-08T05:15:36.803Z"}
{"error":"MongoServerError: Error in specification { partialFilterExpression: { status: { $ne: \"expired\" } }, background: true, name: \"lifecycle.expiresAt_1_status_1\", key: { lifecycle.expiresAt: 1, status: 1 }, v: 2 } :: caused by :: Expression not supported in partial index: $not\n    status $eq \"expired\"\n\n    at Connection.sendCommand (C:\\Users\\bhumi\\OneDrive\\Desktop\\notification-service\\node_modules\\mongodb\\lib\\cmap\\connection.js:305:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Connection.command (C:\\Users\\bhumi\\OneDrive\\Desktop\\notification-service\\node_modules\\mongodb\\lib\\cmap\\connection.js:333:26)\n    at async Server.command (C:\\Users\\bhumi\\OneDrive\\Desktop\\notification-service\\node_modules\\mongodb\\lib\\sdam\\server.js:171:29)\n    at async CreateIndexesOperation.executeCommand (C:\\Users\\bhumi\\OneDrive\\Desktop\\notification-service\\node_modules\\mongodb\\lib\\operations\\command.js:76:16)\n    at async CreateIndexesOperation.execute (C:\\Users\\bhumi\\OneDrive\\Desktop\\notification-service\\node_modules\\mongodb\\lib\\operations\\indexes.js:122:9)\n    at async tryOperation (C:\\Users\\bhumi\\OneDrive\\Desktop\\notification-service\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:207:20)\n    at async executeOperation (C:\\Users\\bhumi\\OneDrive\\Desktop\\notification-service\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:75:16)\n    at async Collection.createIndex (C:\\Users\\bhumi\\OneDrive\\Desktop\\notification-service\\node_modules\\mongodb\\lib\\collection.js:329:25)","level":"error","message":"Index creation failed","timestamp":"2025-09-08T05:16:41.431Z"}
{"error":"MongoServerError: Error in specification { partialFilterExpression: { status: { $ne: \"expired\" } }, background: true, name: \"lifecycle.expiresAt_1_status_1\", key: { lifecycle.expiresAt: 1, status: 1 }, v: 2 } :: caused by :: Expression not supported in partial index: $not\n    status $eq \"expired\"\n\n    at Connection.sendCommand (C:\\Users\\bhumi\\OneDrive\\Desktop\\notification-service\\node_modules\\mongodb\\lib\\cmap\\connection.js:305:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Connection.command (C:\\Users\\bhumi\\OneDrive\\Desktop\\notification-service\\node_modules\\mongodb\\lib\\cmap\\connection.js:333:26)\n    at async Server.command (C:\\Users\\bhumi\\OneDrive\\Desktop\\notification-service\\node_modules\\mongodb\\lib\\sdam\\server.js:171:29)\n    at async CreateIndexesOperation.executeCommand (C:\\Users\\bhumi\\OneDrive\\Desktop\\notification-service\\node_modules\\mongodb\\lib\\operations\\command.js:76:16)\n    at async CreateIndexesOperation.execute (C:\\Users\\bhumi\\OneDrive\\Desktop\\notification-service\\node_modules\\mongodb\\lib\\operations\\indexes.js:122:9)\n    at async tryOperation (C:\\Users\\bhumi\\OneDrive\\Desktop\\notification-service\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:207:20)\n    at async executeOperation (C:\\Users\\bhumi\\OneDrive\\Desktop\\notification-service\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:75:16)\n    at async Collection.createIndex (C:\\Users\\bhumi\\OneDrive\\Desktop\\notification-service\\node_modules\\mongodb\\lib\\collection.js:329:25)","level":"error","message":"Index creation failed","timestamp":"2025-09-08T05:20:59.522Z"}
{"error":"MongoServerError: Error in specification { partialFilterExpression: { status: { $ne: \"expired\" } }, background: true, name: \"lifecycle.expiresAt_1_status_1\", key: { lifecycle.expiresAt: 1, status: 1 }, v: 2 } :: caused by :: Expression not supported in partial index: $not\n    status $eq \"expired\"\n\n    at Connection.sendCommand (/app/node_modules/mongodb/lib/cmap/connection.js:305:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async Connection.command (/app/node_modules/mongodb/lib/cmap/connection.js:333:26)\n    at async Server.command (/app/node_modules/mongodb/lib/sdam/server.js:171:29)\n    at async CreateIndexesOperation.executeCommand (/app/node_modules/mongodb/lib/operations/command.js:76:16)\n    at async CreateIndexesOperation.execute (/app/node_modules/mongodb/lib/operations/indexes.js:122:9)\n    at async tryOperation (/app/node_modules/mongodb/lib/operations/execute_operation.js:207:20)\n    at async executeOperation (/app/node_modules/mongodb/lib/operations/execute_operation.js:75:16)\n    at async Collection.createIndex (/app/node_modules/mongodb/lib/collection.js:329:25)","level":"error","message":"Index creation failed","timestamp":"2025-09-08T07:10:01.987Z"}
{"error":"MongoServerError: Error in specification { partialFilterExpression: { status: { $ne: \"expired\" } }, background: true, name: \"lifecycle.expiresAt_1_status_1\", key: { lifecycle.expiresAt: 1, status: 1 }, v: 2 } :: caused by :: Expression not supported in partial index: $not\n    status $eq \"expired\"\n\n    at Connection.sendCommand (/app/node_modules/mongodb/lib/cmap/connection.js:305:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async Connection.command (/app/node_modules/mongodb/lib/cmap/connection.js:333:26)\n    at async Server.command (/app/node_modules/mongodb/lib/sdam/server.js:171:29)\n    at async CreateIndexesOperation.executeCommand (/app/node_modules/mongodb/lib/operations/command.js:76:16)\n    at async CreateIndexesOperation.execute (/app/node_modules/mongodb/lib/operations/indexes.js:122:9)\n    at async tryOperation (/app/node_modules/mongodb/lib/operations/execute_operation.js:207:20)\n    at async executeOperation (/app/node_modules/mongodb/lib/operations/execute_operation.js:75:16)\n    at async Collection.createIndex (/app/node_modules/mongodb/lib/collection.js:329:25)","level":"error","message":"Index creation failed","timestamp":"2025-09-08T09:34:41.480Z"}
{"error":"MongoServerError: Error in specification { partialFilterExpression: { status: { $ne: \"expired\" } }, background: true, name: \"lifecycle.expiresAt_1_status_1\", key: { lifecycle.expiresAt: 1, status: 1 }, v: 2 } :: caused by :: Expression not supported in partial index: $not\n    status $eq \"expired\"\n\n    at Connection.sendCommand (/app/node_modules/mongodb/lib/cmap/connection.js:305:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async Connection.command (/app/node_modules/mongodb/lib/cmap/connection.js:333:26)\n    at async Server.command (/app/node_modules/mongodb/lib/sdam/server.js:171:29)\n    at async CreateIndexesOperation.executeCommand (/app/node_modules/mongodb/lib/operations/command.js:76:16)\n    at async CreateIndexesOperation.execute (/app/node_modules/mongodb/lib/operations/indexes.js:122:9)\n    at async tryOperation (/app/node_modules/mongodb/lib/operations/execute_operation.js:207:20)\n    at async executeOperation (/app/node_modules/mongodb/lib/operations/execute_operation.js:75:16)\n    at async Collection.createIndex (/app/node_modules/mongodb/lib/collection.js:329:25)","level":"error","message":"Index creation failed","timestamp":"2025-09-08T10:25:35.822Z"}
{"error":"MongoServerError: Error in specification { partialFilterExpression: { status: { $ne: \"expired\" } }, background: true, name: \"lifecycle.expiresAt_1_status_1\", key: { lifecycle.expiresAt: 1, status: 1 }, v: 2 } :: caused by :: Expression not supported in partial index: $not\n    status $eq \"expired\"\n\n    at Connection.sendCommand (/app/node_modules/mongodb/lib/cmap/connection.js:305:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async Connection.command (/app/node_modules/mongodb/lib/cmap/connection.js:333:26)\n    at async Server.command (/app/node_modules/mongodb/lib/sdam/server.js:171:29)\n    at async CreateIndexesOperation.executeCommand (/app/node_modules/mongodb/lib/operations/command.js:76:16)\n    at async CreateIndexesOperation.execute (/app/node_modules/mongodb/lib/operations/indexes.js:122:9)\n    at async tryOperation (/app/node_modules/mongodb/lib/operations/execute_operation.js:207:20)\n    at async executeOperation (/app/node_modules/mongodb/lib/operations/execute_operation.js:75:16)\n    at async Collection.createIndex (/app/node_modules/mongodb/lib/collection.js:329:25)","level":"error","message":"Index creation failed","timestamp":"2025-09-08T10:40:17.392Z"}
{"error":"MongoServerError: Error in specification { partialFilterExpression: { status: { $ne: \"expired\" } }, background: true, name: \"lifecycle.expiresAt_1_status_1\", key: { lifecycle.expiresAt: 1, status: 1 }, v: 2 } :: caused by :: Expression not supported in partial index: $not\n    status $eq \"expired\"\n\n    at Connection.sendCommand (/app/node_modules/mongodb/lib/cmap/connection.js:305:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async Connection.command (/app/node_modules/mongodb/lib/cmap/connection.js:333:26)\n    at async Server.command (/app/node_modules/mongodb/lib/sdam/server.js:171:29)\n    at async CreateIndexesOperation.executeCommand (/app/node_modules/mongodb/lib/operations/command.js:76:16)\n    at async CreateIndexesOperation.execute (/app/node_modules/mongodb/lib/operations/indexes.js:122:9)\n    at async tryOperation (/app/node_modules/mongodb/lib/operations/execute_operation.js:207:20)\n    at async executeOperation (/app/node_modules/mongodb/lib/operations/execute_operation.js:75:16)\n    at async Collection.createIndex (/app/node_modules/mongodb/lib/collection.js:329:25)","level":"error","message":"Index creation failed","timestamp":"2025-09-08T10:49:28.279Z"}
{"error":"MongoServerError: Error in specification { partialFilterExpression: { status: { $ne: \"expired\" } }, background: true, name: \"lifecycle.expiresAt_1_status_1\", key: { lifecycle.expiresAt: 1, status: 1 }, v: 2 } :: caused by :: Expression not supported in partial index: $not\n    status $eq \"expired\"\n\n    at Connection.sendCommand (/app/node_modules/mongodb/lib/cmap/connection.js:305:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async Connection.command (/app/node_modules/mongodb/lib/cmap/connection.js:333:26)\n    at async Server.command (/app/node_modules/mongodb/lib/sdam/server.js:171:29)\n    at async CreateIndexesOperation.executeCommand (/app/node_modules/mongodb/lib/operations/command.js:76:16)\n    at async CreateIndexesOperation.execute (/app/node_modules/mongodb/lib/operations/indexes.js:122:9)\n    at async tryOperation (/app/node_modules/mongodb/lib/operations/execute_operation.js:207:20)\n    at async executeOperation (/app/node_modules/mongodb/lib/operations/execute_operation.js:75:16)\n    at async Collection.createIndex (/app/node_modules/mongodb/lib/collection.js:329:25)","level":"error","message":"Index creation failed","timestamp":"2025-09-08T11:02:33.025Z"}
{"error":"MongoServerError: Error in specification { partialFilterExpression: { status: { $ne: \"expired\" } }, background: true, name: \"lifecycle.expiresAt_1_status_1\", key: { lifecycle.expiresAt: 1, status: 1 }, v: 2 } :: caused by :: Expression not supported in partial index: $not\n    status $eq \"expired\"\n\n    at Connection.sendCommand (/app/node_modules/mongodb/lib/cmap/connection.js:305:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async Connection.command (/app/node_modules/mongodb/lib/cmap/connection.js:333:26)\n    at async Server.command (/app/node_modules/mongodb/lib/sdam/server.js:171:29)\n    at async CreateIndexesOperation.executeCommand (/app/node_modules/mongodb/lib/operations/command.js:76:16)\n    at async CreateIndexesOperation.execute (/app/node_modules/mongodb/lib/operations/indexes.js:122:9)\n    at async tryOperation (/app/node_modules/mongodb/lib/operations/execute_operation.js:207:20)\n    at async executeOperation (/app/node_modules/mongodb/lib/operations/execute_operation.js:75:16)\n    at async Collection.createIndex (/app/node_modules/mongodb/lib/collection.js:329:25)","level":"error","message":"Index creation failed","timestamp":"2025-09-08T11:13:38.629Z"}
{"error":"MongoServerError: Error in specification { partialFilterExpression: { status: { $ne: \"expired\" } }, background: true, name: \"lifecycle.expiresAt_1_status_1\", key: { lifecycle.expiresAt: 1, status: 1 }, v: 2 } :: caused by :: Expression not supported in partial index: $not\n    status $eq \"expired\"\n\n    at Connection.sendCommand (/app/node_modules/mongodb/lib/cmap/connection.js:305:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async Connection.command (/app/node_modules/mongodb/lib/cmap/connection.js:333:26)\n    at async Server.command (/app/node_modules/mongodb/lib/sdam/server.js:171:29)\n    at async CreateIndexesOperation.executeCommand (/app/node_modules/mongodb/lib/operations/command.js:76:16)\n    at async CreateIndexesOperation.execute (/app/node_modules/mongodb/lib/operations/indexes.js:122:9)\n    at async tryOperation (/app/node_modules/mongodb/lib/operations/execute_operation.js:207:20)\n    at async executeOperation (/app/node_modules/mongodb/lib/operations/execute_operation.js:75:16)\n    at async Collection.createIndex (/app/node_modules/mongodb/lib/collection.js:329:25)","level":"error","message":"Index creation failed","timestamp":"2025-09-08T11:18:51.302Z"}
{"error":"MongoServerError: Error in specification { partialFilterExpression: { status: { $ne: \"expired\" } }, background: true, name: \"lifecycle.expiresAt_1_status_1\", key: { lifecycle.expiresAt: 1, status: 1 }, v: 2 } :: caused by :: Expression not supported in partial index: $not\n    status $eq \"expired\"\n\n    at Connection.sendCommand (/app/node_modules/mongodb/lib/cmap/connection.js:305:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async Connection.command (/app/node_modules/mongodb/lib/cmap/connection.js:333:26)\n    at async Server.command (/app/node_modules/mongodb/lib/sdam/server.js:171:29)\n    at async CreateIndexesOperation.executeCommand (/app/node_modules/mongodb/lib/operations/command.js:76:16)\n    at async CreateIndexesOperation.execute (/app/node_modules/mongodb/lib/operations/indexes.js:122:9)\n    at async tryOperation (/app/node_modules/mongodb/lib/operations/execute_operation.js:207:20)\n    at async executeOperation (/app/node_modules/mongodb/lib/operations/execute_operation.js:75:16)\n    at async Collection.createIndex (/app/node_modules/mongodb/lib/collection.js:329:25)","level":"error","message":"Index creation failed","timestamp":"2025-09-08T11:24:06.294Z"}
{"error":"MongoServerError: Error in specification { partialFilterExpression: { status: { $ne: \"expired\" } }, background: true, name: \"lifecycle.expiresAt_1_status_1\", key: { lifecycle.expiresAt: 1, status: 1 }, v: 2 } :: caused by :: Expression not supported in partial index: $not\n    status $eq \"expired\"\n\n    at Connection.sendCommand (/app/node_modules/mongodb/lib/cmap/connection.js:305:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async Connection.command (/app/node_modules/mongodb/lib/cmap/connection.js:333:26)\n    at async Server.command (/app/node_modules/mongodb/lib/sdam/server.js:171:29)\n    at async CreateIndexesOperation.executeCommand (/app/node_modules/mongodb/lib/operations/command.js:76:16)\n    at async CreateIndexesOperation.execute (/app/node_modules/mongodb/lib/operations/indexes.js:122:9)\n    at async tryOperation (/app/node_modules/mongodb/lib/operations/execute_operation.js:207:20)\n    at async executeOperation (/app/node_modules/mongodb/lib/operations/execute_operation.js:75:16)\n    at async Collection.createIndex (/app/node_modules/mongodb/lib/collection.js:329:25)","level":"error","message":"Index creation failed","timestamp":"2025-09-08T11:44:35.989Z"}
{"error":"MongoServerError: Error in specification { partialFilterExpression: { status: { $ne: \"expired\" } }, background: true, name: \"lifecycle.expiresAt_1_status_1\", key: { lifecycle.expiresAt: 1, status: 1 }, v: 2 } :: caused by :: Expression not supported in partial index: $not\n    status $eq \"expired\"\n\n    at Connection.sendCommand (/app/node_modules/mongodb/lib/cmap/connection.js:305:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async Connection.command (/app/node_modules/mongodb/lib/cmap/connection.js:333:26)\n    at async Server.command (/app/node_modules/mongodb/lib/sdam/server.js:171:29)\n    at async CreateIndexesOperation.executeCommand (/app/node_modules/mongodb/lib/operations/command.js:76:16)\n    at async CreateIndexesOperation.execute (/app/node_modules/mongodb/lib/operations/indexes.js:122:9)\n    at async tryOperation (/app/node_modules/mongodb/lib/operations/execute_operation.js:207:20)\n    at async executeOperation (/app/node_modules/mongodb/lib/operations/execute_operation.js:75:16)\n    at async Collection.createIndex (/app/node_modules/mongodb/lib/collection.js:329:25)","level":"error","message":"Index creation failed","timestamp":"2025-09-08T11:49:59.347Z"}
{"error":"MongoServerError: Error in specification { partialFilterExpression: { status: { $ne: \"expired\" } }, background: true, name: \"lifecycle.expiresAt_1_status_1\", key: { lifecycle.expiresAt: 1, status: 1 }, v: 2 } :: caused by :: Expression not supported in partial index: $not\n    status $eq \"expired\"\n\n    at Connection.sendCommand (/app/node_modules/mongodb/lib/cmap/connection.js:305:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async Connection.command (/app/node_modules/mongodb/lib/cmap/connection.js:333:26)\n    at async Server.command (/app/node_modules/mongodb/lib/sdam/server.js:171:29)\n    at async CreateIndexesOperation.executeCommand (/app/node_modules/mongodb/lib/operations/command.js:76:16)\n    at async CreateIndexesOperation.execute (/app/node_modules/mongodb/lib/operations/indexes.js:122:9)\n    at async tryOperation (/app/node_modules/mongodb/lib/operations/execute_operation.js:207:20)\n    at async executeOperation (/app/node_modules/mongodb/lib/operations/execute_operation.js:75:16)\n    at async Collection.createIndex (/app/node_modules/mongodb/lib/collection.js:329:25)","level":"error","message":"Index creation failed","timestamp":"2025-09-12T09:41:42.314Z"}
{"error":"MongoServerError: Error in specification { partialFilterExpression: { status: { $ne: \"expired\" } }, background: true, name: \"lifecycle.expiresAt_1_status_1\", key: { lifecycle.expiresAt: 1, status: 1 }, v: 2 } :: caused by :: Expression not supported in partial index: $not\n    status $eq \"expired\"\n\n    at Connection.sendCommand (/app/node_modules/mongodb/lib/cmap/connection.js:305:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async Connection.command (/app/node_modules/mongodb/lib/cmap/connection.js:333:26)\n    at async Server.command (/app/node_modules/mongodb/lib/sdam/server.js:171:29)\n    at async CreateIndexesOperation.executeCommand (/app/node_modules/mongodb/lib/operations/command.js:76:16)\n    at async CreateIndexesOperation.execute (/app/node_modules/mongodb/lib/operations/indexes.js:122:9)\n    at async tryOperation (/app/node_modules/mongodb/lib/operations/execute_operation.js:207:20)\n    at async executeOperation (/app/node_modules/mongodb/lib/operations/execute_operation.js:75:16)\n    at async Collection.createIndex (/app/node_modules/mongodb/lib/collection.js:329:25)","level":"error","message":"Index creation failed","timestamp":"2025-09-15T06:57:34.079Z"}
{"error":"MongoServerError: Error in specification { partialFilterExpression: { status: { $ne: \"expired\" } }, background: true, name: \"lifecycle.expiresAt_1_status_1\", key: { lifecycle.expiresAt: 1, status: 1 }, v: 2 } :: caused by :: Expression not supported in partial index: $not\n    status $eq \"expired\"\n\n    at Connection.sendCommand (/app/node_modules/mongodb/lib/cmap/connection.js:305:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async Connection.command (/app/node_modules/mongodb/lib/cmap/connection.js:333:26)\n    at async Server.command (/app/node_modules/mongodb/lib/sdam/server.js:171:29)\n    at async CreateIndexesOperation.executeCommand (/app/node_modules/mongodb/lib/operations/command.js:76:16)\n    at async CreateIndexesOperation.execute (/app/node_modules/mongodb/lib/operations/indexes.js:122:9)\n    at async tryOperation (/app/node_modules/mongodb/lib/operations/execute_operation.js:207:20)\n    at async executeOperation (/app/node_modules/mongodb/lib/operations/execute_operation.js:75:16)\n    at async Collection.createIndex (/app/node_modules/mongodb/lib/collection.js:329:25)","level":"error","message":"Index creation failed","timestamp":"2025-09-15T07:25:55.493Z"}
{"error":"MongoServerError: Error in specification { partialFilterExpression: { status: { $ne: \"expired\" } }, background: true, name: \"lifecycle.expiresAt_1_status_1\", key: { lifecycle.expiresAt: 1, status: 1 }, v: 2 } :: caused by :: Expression not supported in partial index: $not\n    status $eq \"expired\"\n\n    at Connection.sendCommand (/app/node_modules/mongodb/lib/cmap/connection.js:305:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async Connection.command (/app/node_modules/mongodb/lib/cmap/connection.js:333:26)\n    at async Server.command (/app/node_modules/mongodb/lib/sdam/server.js:171:29)\n    at async CreateIndexesOperation.executeCommand (/app/node_modules/mongodb/lib/operations/command.js:76:16)\n    at async CreateIndexesOperation.execute (/app/node_modules/mongodb/lib/operations/indexes.js:122:9)\n    at async tryOperation (/app/node_modules/mongodb/lib/operations/execute_operation.js:207:20)\n    at async executeOperation (/app/node_modules/mongodb/lib/operations/execute_operation.js:75:16)\n    at async Collection.createIndex (/app/node_modules/mongodb/lib/collection.js:329:25)","level":"error","message":"Index creation failed","timestamp":"2025-09-15T09:08:26.120Z"}
{"error":"TypeError: pushService.validateToken is not a function\n    at DeviceTokenSchema.methods.validateToken (file:///app/src/models/DeviceToken.js:227:23)\n    at file:///app/src/controllers/notificationController.js:821:25\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","level":"warn","message":"Token validation failed","timestamp":"2025-09-15T09:14:19.422Z","tokenId":"d2ddb16b9ba7a773","userId":"u123"}
{"error":"MongoServerError: Error in specification { partialFilterExpression: { status: { $ne: \"expired\" } }, background: true, name: \"lifecycle.expiresAt_1_status_1\", key: { lifecycle.expiresAt: 1, status: 1 }, v: 2 } :: caused by :: Expression not supported in partial index: $not\n    status $eq \"expired\"\n\n    at Connection.sendCommand (/app/node_modules/mongodb/lib/cmap/connection.js:305:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async Connection.command (/app/node_modules/mongodb/lib/cmap/connection.js:333:26)\n    at async Server.command (/app/node_modules/mongodb/lib/sdam/server.js:171:29)\n    at async CreateIndexesOperation.executeCommand (/app/node_modules/mongodb/lib/operations/command.js:76:16)\n    at async CreateIndexesOperation.execute (/app/node_modules/mongodb/lib/operations/indexes.js:122:9)\n    at async tryOperation (/app/node_modules/mongodb/lib/operations/execute_operation.js:207:20)\n    at async executeOperation (/app/node_modules/mongodb/lib/operations/execute_operation.js:75:16)\n    at async Collection.createIndex (/app/node_modules/mongodb/lib/collection.js:329:25)","level":"error","message":"Index creation failed","timestamp":"2025-09-15T14:53:42.945Z"}
{"error":"MongoServerError: Error in specification { partialFilterExpression: { status: { $ne: \"expired\" } }, background: true, name: \"lifecycle.expiresAt_1_status_1\", key: { lifecycle.expiresAt: 1, status: 1 }, v: 2 } :: caused by :: Expression not supported in partial index: $not\n    status $eq \"expired\"\n\n    at Connection.sendCommand (/app/node_modules/mongodb/lib/cmap/connection.js:305:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async Connection.command (/app/node_modules/mongodb/lib/cmap/connection.js:333:26)\n    at async Server.command (/app/node_modules/mongodb/lib/sdam/server.js:171:29)\n    at async CreateIndexesOperation.executeCommand (/app/node_modules/mongodb/lib/operations/command.js:76:16)\n    at async CreateIndexesOperation.execute (/app/node_modules/mongodb/lib/operations/indexes.js:122:9)\n    at async tryOperation (/app/node_modules/mongodb/lib/operations/execute_operation.js:207:20)\n    at async executeOperation (/app/node_modules/mongodb/lib/operations/execute_operation.js:75:16)\n    at async Collection.createIndex (/app/node_modules/mongodb/lib/collection.js:329:25)","level":"error","message":"Index creation failed","timestamp":"2025-09-15T18:22:48.522Z"}
{"error":"MongoServerError: TTL indexes are single-field indexes, compound indexes do not support TTL. Index spec: { expireAfterSeconds: 2592000, partialFilterExpression: { deletion.isDeleted: true }, background: true, name: \"deletion.isDeleted_1_deletion.deletedAt_1\", key: { deletion.isDeleted: 1, deletion.deletedAt: 1 } }\n    at Connection.sendCommand (/app/node_modules/mongodb/lib/cmap/connection.js:305:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async Connection.command (/app/node_modules/mongodb/lib/cmap/connection.js:333:26)\n    at async Server.command (/app/node_modules/mongodb/lib/sdam/server.js:171:29)\n    at async CreateIndexesOperation.executeCommand (/app/node_modules/mongodb/lib/operations/command.js:76:16)\n    at async CreateIndexesOperation.execute (/app/node_modules/mongodb/lib/operations/indexes.js:122:9)\n    at async tryOperation (/app/node_modules/mongodb/lib/operations/execute_operation.js:207:20)\n    at async executeOperation (/app/node_modules/mongodb/lib/operations/execute_operation.js:75:16)\n    at async Collection.createIndex (/app/node_modules/mongodb/lib/collection.js:329:25)","level":"error","message":"Index creation failed","timestamp":"2025-09-15T18:32:54.409Z"}
{"error":"TypeError: pushService.validateToken is not a function\n    at DeviceTokenSchema.methods.validateToken (file:///app/src/models/DeviceToken.js:238:23)\n    at file:///app/src/controllers/notificationController.js:821:25\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","level":"warn","message":"Token validation failed","timestamp":"2025-09-15T18:35:57.927Z","tokenId":"8fcb64b4b4cea51c","userId":"u123"}
{"level":"info","message":"Token refreshed","platform":"web","timestamp":"2025-09-15T19:23:51.916Z","tokenId":"8fcb64b4b4cea51c","userId":"u123"}
{"error":"TypeError: pushService.validateToken is not a function\n    at DeviceTokenSchema.methods.validateToken (file:///app/src/models/DeviceToken.js:238:23)\n    at file:///app/src/controllers/notificationController.js:821:25\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","level":"warn","message":"Token validation failed","timestamp":"2025-09-15T19:23:51.927Z","tokenId":"8fcb64b4b4cea51c","userId":"u123"}
{"error":"MongoServerError: TTL indexes are single-field indexes, compound indexes do not support TTL. Index spec: { expireAfterSeconds: 2592000, partialFilterExpression: { deletion.isDeleted: true }, background: true, name: \"deletion.isDeleted_1_deletion.deletedAt_1\", key: { deletion.isDeleted: 1, deletion.deletedAt: 1 } }\n    at Connection.sendCommand (/app/node_modules/mongodb/lib/cmap/connection.js:305:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async Connection.command (/app/node_modules/mongodb/lib/cmap/connection.js:333:26)\n    at async Server.command (/app/node_modules/mongodb/lib/sdam/server.js:171:29)\n    at async CreateIndexesOperation.executeCommand (/app/node_modules/mongodb/lib/operations/command.js:76:16)\n    at async CreateIndexesOperation.execute (/app/node_modules/mongodb/lib/operations/indexes.js:122:9)\n    at async tryOperation (/app/node_modules/mongodb/lib/operations/execute_operation.js:207:20)\n    at async executeOperation (/app/node_modules/mongodb/lib/operations/execute_operation.js:75:16)\n    at async Collection.createIndex (/app/node_modules/mongodb/lib/collection.js:329:25)","level":"error","message":"Index creation failed","timestamp":"2025-09-15T19:34:02.838Z"}
{"error":"MongoServerError: TTL indexes are single-field indexes, compound indexes do not support TTL. Index spec: { expireAfterSeconds: 2592000, partialFilterExpression: { deletion.isDeleted: true }, background: true, name: \"deletion.isDeleted_1_deletion.deletedAt_1\", key: { deletion.isDeleted: 1, deletion.deletedAt: 1 } }\n    at Connection.sendCommand (/app/node_modules/mongodb/lib/cmap/connection.js:305:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async Connection.command (/app/node_modules/mongodb/lib/cmap/connection.js:333:26)\n    at async Server.command (/app/node_modules/mongodb/lib/sdam/server.js:171:29)\n    at async CreateIndexesOperation.executeCommand (/app/node_modules/mongodb/lib/operations/command.js:76:16)\n    at async CreateIndexesOperation.execute (/app/node_modules/mongodb/lib/operations/indexes.js:122:9)\n    at async tryOperation (/app/node_modules/mongodb/lib/operations/execute_operation.js:207:20)\n    at async executeOperation (/app/node_modules/mongodb/lib/operations/execute_operation.js:75:16)\n    at async Collection.createIndex (/app/node_modules/mongodb/lib/collection.js:329:25)","level":"error","message":"Index creation failed","timestamp":"2025-09-16T05:28:18.692Z"}
{"level":"info","message":"Token refreshed","platform":"web","timestamp":"2025-09-16T07:23:32.138Z","tokenId":"8fcb64b4b4cea51c","userId":"u123"}
{"level":"info","message":"Token refreshed","platform":"web","timestamp":"2025-09-16T07:23:33.176Z","tokenId":"8fcb64b4b4cea51c","userId":"u123"}
{"level":"info","message":"Token refreshed","platform":"web","timestamp":"2025-09-16T07:23:35.213Z","tokenId":"8fcb64b4b4cea51c","userId":"u123"}
{"level":"info","message":"Token refreshed","platform":"web","timestamp":"2025-09-16T07:57:10.290Z","tokenId":"8fcb64b4b4cea51c","userId":"u123"}
{"level":"info","message":"Token refreshed","platform":"web","timestamp":"2025-09-16T07:57:11.326Z","tokenId":"8fcb64b4b4cea51c","userId":"u123"}
{"level":"info","message":"Token refreshed","platform":"web","timestamp":"2025-09-16T07:57:13.365Z","tokenId":"8fcb64b4b4cea51c","userId":"u123"}
{"level":"info","message":"Token refreshed","platform":"web","timestamp":"2025-09-16T07:59:46.506Z","tokenId":"8fcb64b4b4cea51c","userId":"u123"}
{"level":"info","message":"Token refreshed","platform":"web","timestamp":"2025-09-16T07:59:47.533Z","tokenId":"8fcb64b4b4cea51c","userId":"u123"}
{"level":"info","message":"Token refreshed","platform":"web","timestamp":"2025-09-16T07:59:49.565Z","tokenId":"8fcb64b4b4cea51c","userId":"u123"}
{"level":"info","message":"Token refreshed","platform":"web","timestamp":"2025-09-16T08:00:11.493Z","tokenId":"8fcb64b4b4cea51c","userId":"u123"}
{"level":"info","message":"Token refreshed","platform":"web","timestamp":"2025-09-16T08:00:12.527Z","tokenId":"8fcb64b4b4cea51c","userId":"u123"}
{"level":"info","message":"Token refreshed","platform":"web","timestamp":"2025-09-16T08:00:14.556Z","tokenId":"8fcb64b4b4cea51c","userId":"u123"}
{"level":"info","message":"Token refreshed","platform":"web","timestamp":"2025-09-16T10:22:20.798Z","tokenId":"8fcb64b4b4cea51c","userId":"u123"}
{"level":"info","message":"Token refreshed","platform":"web","timestamp":"2025-09-16T10:22:21.841Z","tokenId":"8fcb64b4b4cea51c","userId":"u123"}
{"level":"info","message":"Token refreshed","platform":"web","timestamp":"2025-09-16T10:22:23.876Z","tokenId":"8fcb64b4b4cea51c","userId":"u123"}
{"level":"info","message":"Token refreshed","platform":"web","timestamp":"2025-09-16T10:46:07.120Z","tokenId":"8fcb64b4b4cea51c","userId":"u123"}
{"level":"info","message":"Token refreshed","platform":"web","timestamp":"2025-09-16T10:46:08.142Z","tokenId":"8fcb64b4b4cea51c","userId":"u123"}
{"level":"info","message":"Token refreshed","platform":"web","timestamp":"2025-09-16T10:46:10.177Z","tokenId":"8fcb64b4b4cea51c","userId":"u123"}
{"level":"info","message":"Token refreshed","platform":"web","timestamp":"2025-09-16T11:02:12.029Z","tokenId":"8fcb64b4b4cea51c","userId":"u123"}
{"level":"info","message":"Token refreshed","platform":"web","timestamp":"2025-09-16T11:02:13.061Z","tokenId":"8fcb64b4b4cea51c","userId":"u123"}
{"level":"info","message":"Token refreshed","platform":"web","timestamp":"2025-09-16T11:02:15.084Z","tokenId":"8fcb64b4b4cea51c","userId":"u123"}
{"level":"info","message":"Token refreshed","platform":"web","timestamp":"2025-09-16T11:24:35.877Z","tokenId":"8fcb64b4b4cea51c","userId":"u123"}
{"level":"info","message":"Token refreshed","platform":"web","timestamp":"2025-09-16T11:24:36.900Z","tokenId":"8fcb64b4b4cea51c","userId":"u123"}
{"level":"info","message":"Token refreshed","platform":"web","timestamp":"2025-09-16T11:24:38.924Z","tokenId":"8fcb64b4b4cea51c","userId":"u123"}
{"level":"info","message":"Token refreshed","platform":"web","timestamp":"2025-09-16T11:30:33.826Z","tokenId":"8fcb64b4b4cea51c","userId":"u123"}
{"level":"info","message":"Token refreshed","platform":"web","timestamp":"2025-09-16T11:30:34.845Z","tokenId":"8fcb64b4b4cea51c","userId":"u123"}
{"level":"info","message":"Token refreshed","platform":"web","timestamp":"2025-09-16T11:30:36.873Z","tokenId":"8fcb64b4b4cea51c","userId":"u123"}
{"level":"info","message":"Token refreshed","platform":"web","timestamp":"2025-09-16T11:35:59.548Z","tokenId":"8fcb64b4b4cea51c","userId":"u123"}
{"level":"info","message":"Token refreshed","platform":"web","timestamp":"2025-09-16T11:36:00.587Z","tokenId":"8fcb64b4b4cea51c","userId":"u123"}
{"level":"info","message":"Token refreshed","platform":"web","timestamp":"2025-09-16T11:36:02.615Z","tokenId":"8fcb64b4b4cea51c","userId":"u123"}
{"error":"MongoServerError: TTL indexes are single-field indexes, compound indexes do not support TTL. Index spec: { expireAfterSeconds: 2592000, partialFilterExpression: { deletion.isDeleted: true }, background: true, name: \"deletion.isDeleted_1_deletion.deletedAt_1\", key: { deletion.isDeleted: 1, deletion.deletedAt: 1 } }\n    at Connection.sendCommand (/app/node_modules/mongodb/lib/cmap/connection.js:305:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async Connection.command (/app/node_modules/mongodb/lib/cmap/connection.js:333:26)\n    at async Server.command (/app/node_modules/mongodb/lib/sdam/server.js:171:29)\n    at async CreateIndexesOperation.executeCommand (/app/node_modules/mongodb/lib/operations/command.js:76:16)\n    at async CreateIndexesOperation.execute (/app/node_modules/mongodb/lib/operations/indexes.js:122:9)\n    at async tryOperation (/app/node_modules/mongodb/lib/operations/execute_operation.js:207:20)\n    at async executeOperation (/app/node_modules/mongodb/lib/operations/execute_operation.js:75:16)\n    at async Collection.createIndex (/app/node_modules/mongodb/lib/collection.js:329:25)","level":"error","message":"Index creation failed","timestamp":"2025-09-16T11:40:21.158Z"}
{"level":"info","message":"Token refreshed","platform":"web","timestamp":"2025-09-16T11:42:52.583Z","tokenId":"8fcb64b4b4cea51c","userId":"u123"}
{"error":"TypeError: pushService.validateToken is not a function\n    at DeviceTokenSchema.methods.validateToken (file:///app/src/models/DeviceToken.js:238:23)\n    at file:///app/src/controllers/notificationController.js:827:25\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","level":"warn","message":"Token validation failed","timestamp":"2025-09-16T11:42:52.616Z","tokenId":"8fcb64b4b4cea51c","userId":"u123"}
