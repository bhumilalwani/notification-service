{"error":"MongooseError: Cannot call `notification_users.createIndex()` before initial connection is complete if `bufferCommands = false`. Make sure you `await mongoose.connect()` if you have `bufferCommands = false`.\n    at NativeCollection.<computed> [as createIndex] (C:\\Users\\bhumi\\OneDrive\\Desktop\\notification-service\\node_modules\\mongoose\\lib\\drivers\\node-mongodb-native\\collection.js:237:15)\n    at create (C:\\Users\\bhumi\\OneDrive\\Desktop\\notification-service\\node_modules\\mongoose\\lib\\model.js:1757:34)\n    at C:\\Users\\bhumi\\OneDrive\\Desktop\\notification-service\\node_modules\\mongoose\\lib\\model.js:1715:7\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","level":"error","message":"Index creation failed","timestamp":"2025-09-06T07:05:57.934Z"}
{"error":"MongooseError: Cannot call `notification_users.createIndex()` before initial connection is complete if `bufferCommands = false`. Make sure you `await mongoose.connect()` if you have `bufferCommands = false`.\n    at NativeCollection.<computed> [as createIndex] (C:\\Users\\bhumi\\OneDrive\\Desktop\\notification-service\\node_modules\\mongoose\\lib\\drivers\\node-mongodb-native\\collection.js:237:15)\n    at create (C:\\Users\\bhumi\\OneDrive\\Desktop\\notification-service\\node_modules\\mongoose\\lib\\model.js:1757:34)\n    at C:\\Users\\bhumi\\OneDrive\\Desktop\\notification-service\\node_modules\\mongoose\\lib\\model.js:1715:7\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","level":"error","message":"Index creation failed","timestamp":"2025-09-06T07:17:04.536Z"}
{"error":"MongooseError: Cannot call `notification_users.createIndex()` before initial connection is complete if `bufferCommands = false`. Make sure you `await mongoose.connect()` if you have `bufferCommands = false`.\n    at NativeCollection.<computed> [as createIndex] (C:\\Users\\bhumi\\OneDrive\\Desktop\\notification-service\\node_modules\\mongoose\\lib\\drivers\\node-mongodb-native\\collection.js:237:15)\n    at create (C:\\Users\\bhumi\\OneDrive\\Desktop\\notification-service\\node_modules\\mongoose\\lib\\model.js:1757:34)\n    at C:\\Users\\bhumi\\OneDrive\\Desktop\\notification-service\\node_modules\\mongoose\\lib\\model.js:1715:7\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","level":"error","message":"Index creation failed","timestamp":"2025-09-06T07:19:15.823Z"}
{"error":"ValidationError: NotificationUser validation failed: contact.email: Path `contact.email` is required.\n    at Document.invalidate (/app/node_modules/mongoose/lib/document.js:3358:32)\n    at /app/node_modules/mongoose/lib/document.js:3119:17\n    at /app/node_modules/mongoose/lib/schemaType.js:1416:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)","level":"error","message":"Save error","timestamp":"2025-09-08T11:56:55.351Z","userId":"u123"}
{"error":"ValidationError: NotificationUser validation failed: contact.email: Path `contact.email` is required.\n    at Document.invalidate (/app/node_modules/mongoose/lib/document.js:3358:32)\n    at /app/node_modules/mongoose/lib/document.js:3119:17\n    at /app/node_modules/mongoose/lib/schemaType.js:1416:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)","level":"error","message":"Failed to add push subscription","timestamp":"2025-09-08T11:56:55.352Z","userId":"u123"}
{"error":"ValidationError: NotificationUser validation failed: consents.0.consentId: Cast to string failed for value \"{ ipAddress: '::ffff:172.22.0.1', userAgent: 'curl/8.14.1' }\" (type Object) at path \"consentId\", consents.0.type: `general` is not a valid enum value for path `type`.\n    at Document.invalidate (/app/node_modules/mongoose/lib/document.js:3358:32)\n    at Subdocument.invalidate (/app/node_modules/mongoose/lib/types/subdocument.js:229:12)\n    at EmbeddedDocument.$set (/app/node_modules/mongoose/lib/document.js:1480:12)\n    at EmbeddedDocument.$set (/app/node_modules/mongoose/lib/document.js:1132:16)\n    at EmbeddedDocument.Document (/app/node_modules/mongoose/lib/document.js:178:12)\n    at EmbeddedDocument.Subdocument (/app/node_modules/mongoose/lib/types/subdocument.js:34:12)\n    at EmbeddedDocument.ArraySubdocument [as constructor] (/app/node_modules/mongoose/lib/types/arraySubdocument.js:44:15)\n    at new EmbeddedDocument (/app/node_modules/mongoose/lib/schema/documentArray.js:144:17)\n    at Proxy._cast (/app/node_modules/mongoose/lib/types/documentArray/methods/index.js:103:17)\n    at Proxy._mapCast (/app/node_modules/mongoose/lib/types/array/methods/index.js:263:17)","level":"error","message":"Save error","timestamp":"2025-09-15T07:43:36.008Z","userId":"test-user-123"}
{"consentType":"general","error":"ValidationError: NotificationUser validation failed: consents.0.consentId: Cast to string failed for value \"{ ipAddress: '::ffff:172.22.0.1', userAgent: 'curl/8.14.1' }\" (type Object) at path \"consentId\", consents.0.type: `general` is not a valid enum value for path `type`.\n    at Document.invalidate (/app/node_modules/mongoose/lib/document.js:3358:32)\n    at Subdocument.invalidate (/app/node_modules/mongoose/lib/types/subdocument.js:229:12)\n    at EmbeddedDocument.$set (/app/node_modules/mongoose/lib/document.js:1480:12)\n    at EmbeddedDocument.$set (/app/node_modules/mongoose/lib/document.js:1132:16)\n    at EmbeddedDocument.Document (/app/node_modules/mongoose/lib/document.js:178:12)\n    at EmbeddedDocument.Subdocument (/app/node_modules/mongoose/lib/types/subdocument.js:34:12)\n    at EmbeddedDocument.ArraySubdocument [as constructor] (/app/node_modules/mongoose/lib/types/arraySubdocument.js:44:15)\n    at new EmbeddedDocument (/app/node_modules/mongoose/lib/schema/documentArray.js:144:17)\n    at Proxy._cast (/app/node_modules/mongoose/lib/types/documentArray/methods/index.js:103:17)\n    at Proxy._mapCast (/app/node_modules/mongoose/lib/types/array/methods/index.js:263:17)","level":"error","message":"Failed to grant consent","timestamp":"2025-09-15T07:43:36.009Z","userId":"test-user-123"}
{"endpoint":"https://fcm.googleapis.com/fcm/send/d4O3QsfIRww:APA91bHSq_S1D_azCYOVRsK_nyow6a_MFo_jwl4ICTXf6wI58uNJXyvhFOKloIP6YzpZMvvOl6mozoq4DtZqUdnciYIpIvJZTnlcFisQd5lXlN7UNVnkWkGq92MbxAid2-PJF9GaXllk","level":"info","message":"Push subscription added","timestamp":"2025-09-15T09:14:19.419Z","userId":"u123"}
{"error":"ValidationError: NotificationUser validation failed: consents.0.consentId: Cast to string failed for value \"{ ipAddress: '::ffff:172.22.0.1', userAgent: 'curl/8.14.1' }\" (type Object) at path \"consentId\", consents.0.type: `general` is not a valid enum value for path `type`.\n    at Document.invalidate (/app/node_modules/mongoose/lib/document.js:3358:32)\n    at Subdocument.invalidate (/app/node_modules/mongoose/lib/types/subdocument.js:229:12)\n    at EmbeddedDocument.$set (/app/node_modules/mongoose/lib/document.js:1480:12)\n    at EmbeddedDocument.$set (/app/node_modules/mongoose/lib/document.js:1132:16)\n    at EmbeddedDocument.Document (/app/node_modules/mongoose/lib/document.js:178:12)\n    at EmbeddedDocument.Subdocument (/app/node_modules/mongoose/lib/types/subdocument.js:34:12)\n    at EmbeddedDocument.ArraySubdocument [as constructor] (/app/node_modules/mongoose/lib/types/arraySubdocument.js:44:15)\n    at new EmbeddedDocument (/app/node_modules/mongoose/lib/schema/documentArray.js:144:17)\n    at Proxy._cast (/app/node_modules/mongoose/lib/types/documentArray/methods/index.js:103:17)\n    at Proxy._mapCast (/app/node_modules/mongoose/lib/types/array/methods/index.js:263:17)","level":"error","message":"Save error","timestamp":"2025-09-15T09:16:51.809Z","userId":"u123"}
{"consentType":"general","error":"ValidationError: NotificationUser validation failed: consents.0.consentId: Cast to string failed for value \"{ ipAddress: '::ffff:172.22.0.1', userAgent: 'curl/8.14.1' }\" (type Object) at path \"consentId\", consents.0.type: `general` is not a valid enum value for path `type`.\n    at Document.invalidate (/app/node_modules/mongoose/lib/document.js:3358:32)\n    at Subdocument.invalidate (/app/node_modules/mongoose/lib/types/subdocument.js:229:12)\n    at EmbeddedDocument.$set (/app/node_modules/mongoose/lib/document.js:1480:12)\n    at EmbeddedDocument.$set (/app/node_modules/mongoose/lib/document.js:1132:16)\n    at EmbeddedDocument.Document (/app/node_modules/mongoose/lib/document.js:178:12)\n    at EmbeddedDocument.Subdocument (/app/node_modules/mongoose/lib/types/subdocument.js:34:12)\n    at EmbeddedDocument.ArraySubdocument [as constructor] (/app/node_modules/mongoose/lib/types/arraySubdocument.js:44:15)\n    at new EmbeddedDocument (/app/node_modules/mongoose/lib/schema/documentArray.js:144:17)\n    at Proxy._cast (/app/node_modules/mongoose/lib/types/documentArray/methods/index.js:103:17)\n    at Proxy._mapCast (/app/node_modules/mongoose/lib/types/array/methods/index.js:263:17)","level":"error","message":"Failed to grant consent","timestamp":"2025-09-15T09:16:51.809Z","userId":"u123"}
{"error":"ValidationError: NotificationUser validation failed: consents.0.consentId: Cast to string failed for value \"{ ipAddress: '::ffff:172.22.0.1', userAgent: 'curl/8.14.1' }\" (type Object) at path \"consentId\", consents.0.type: `general` is not a valid enum value for path `type`.\n    at Document.invalidate (/app/node_modules/mongoose/lib/document.js:3358:32)\n    at Subdocument.invalidate (/app/node_modules/mongoose/lib/types/subdocument.js:229:12)\n    at EmbeddedDocument.$set (/app/node_modules/mongoose/lib/document.js:1480:12)\n    at EmbeddedDocument.$set (/app/node_modules/mongoose/lib/document.js:1132:16)\n    at EmbeddedDocument.Document (/app/node_modules/mongoose/lib/document.js:178:12)\n    at EmbeddedDocument.Subdocument (/app/node_modules/mongoose/lib/types/subdocument.js:34:12)\n    at EmbeddedDocument.ArraySubdocument [as constructor] (/app/node_modules/mongoose/lib/types/arraySubdocument.js:44:15)\n    at new EmbeddedDocument (/app/node_modules/mongoose/lib/schema/documentArray.js:144:17)\n    at Proxy._cast (/app/node_modules/mongoose/lib/types/documentArray/methods/index.js:103:17)\n    at Proxy._mapCast (/app/node_modules/mongoose/lib/types/array/methods/index.js:263:17)","level":"error","message":"Save error","timestamp":"2025-09-15T09:20:05.474Z","userId":"u123"}
{"consentType":"general","error":"ValidationError: NotificationUser validation failed: consents.0.consentId: Cast to string failed for value \"{ ipAddress: '::ffff:172.22.0.1', userAgent: 'curl/8.14.1' }\" (type Object) at path \"consentId\", consents.0.type: `general` is not a valid enum value for path `type`.\n    at Document.invalidate (/app/node_modules/mongoose/lib/document.js:3358:32)\n    at Subdocument.invalidate (/app/node_modules/mongoose/lib/types/subdocument.js:229:12)\n    at EmbeddedDocument.$set (/app/node_modules/mongoose/lib/document.js:1480:12)\n    at EmbeddedDocument.$set (/app/node_modules/mongoose/lib/document.js:1132:16)\n    at EmbeddedDocument.Document (/app/node_modules/mongoose/lib/document.js:178:12)\n    at EmbeddedDocument.Subdocument (/app/node_modules/mongoose/lib/types/subdocument.js:34:12)\n    at EmbeddedDocument.ArraySubdocument [as constructor] (/app/node_modules/mongoose/lib/types/arraySubdocument.js:44:15)\n    at new EmbeddedDocument (/app/node_modules/mongoose/lib/schema/documentArray.js:144:17)\n    at Proxy._cast (/app/node_modules/mongoose/lib/types/documentArray/methods/index.js:103:17)\n    at Proxy._mapCast (/app/node_modules/mongoose/lib/types/array/methods/index.js:263:17)","level":"error","message":"Failed to grant consent","timestamp":"2025-09-15T09:20:05.475Z","userId":"u123"}
{"endpoint":"https://fcm.googleapis.com/fcm/send/d4O3QsfIRww:APA91bHSq_S1D_azCYOVRsK_nyow6a_MFo_jwl4ICTXf6wI58uNJXyvhFOKloIP6YzpZMvvOl6mozoq4DtZqUdnciYIpIvJZTnlcFisQd5lXlN7UNVnkWkGq92MbxAid2-PJF9GaXllk","level":"info","message":"Push subscription added","timestamp":"2025-09-15T18:35:57.924Z","userId":"u123"}
{"endpoint":"https://fcm.googleapis.com/fcm/send/d4O3QsfIRww:APA91bHSq_S1D_azCYOVRsK_nyow6a_MFo_jwl4ICTXf6wI58uNJXyvhFOKloIP6YzpZMvvOl6mozoq4DtZqUdnciYIpIvJZTnlcFisQd5lXlN7UNVnkWkGq92MbxAid2-PJF9GaXllk","level":"info","message":"Push subscription added","timestamp":"2025-09-15T19:23:51.924Z","userId":"u123"}
{"error":"ValidationError: NotificationUser validation failed: contact.email: Path `contact.email` is required.\n    at Document.invalidate (/app/node_modules/mongoose/lib/document.js:3358:32)\n    at /app/node_modules/mongoose/lib/document.js:3119:17\n    at /app/node_modules/mongoose/lib/schemaType.js:1416:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)","level":"error","message":"Save error","timestamp":"2025-09-16T07:23:32.152Z","userId":"u123"}
{"error":"ValidationError: NotificationUser validation failed: contact.email: Path `contact.email` is required.\n    at Document.invalidate (/app/node_modules/mongoose/lib/document.js:3358:32)\n    at /app/node_modules/mongoose/lib/document.js:3119:17\n    at /app/node_modules/mongoose/lib/schemaType.js:1416:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)","level":"error","message":"Failed to add push subscription","timestamp":"2025-09-16T07:23:32.152Z","userId":"u123"}
{"error":"ValidationError: NotificationUser validation failed: contact.email: Path `contact.email` is required.\n    at Document.invalidate (/app/node_modules/mongoose/lib/document.js:3358:32)\n    at /app/node_modules/mongoose/lib/document.js:3119:17\n    at /app/node_modules/mongoose/lib/schemaType.js:1416:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)","level":"error","message":"Save error","timestamp":"2025-09-16T07:23:33.182Z","userId":"u123"}
{"error":"ValidationError: NotificationUser validation failed: contact.email: Path `contact.email` is required.\n    at Document.invalidate (/app/node_modules/mongoose/lib/document.js:3358:32)\n    at /app/node_modules/mongoose/lib/document.js:3119:17\n    at /app/node_modules/mongoose/lib/schemaType.js:1416:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)","level":"error","message":"Failed to add push subscription","timestamp":"2025-09-16T07:23:33.184Z","userId":"u123"}
{"error":"ValidationError: NotificationUser validation failed: contact.email: Path `contact.email` is required.\n    at Document.invalidate (/app/node_modules/mongoose/lib/document.js:3358:32)\n    at /app/node_modules/mongoose/lib/document.js:3119:17\n    at /app/node_modules/mongoose/lib/schemaType.js:1416:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)","level":"error","message":"Save error","timestamp":"2025-09-16T07:23:35.218Z","userId":"u123"}
{"error":"ValidationError: NotificationUser validation failed: contact.email: Path `contact.email` is required.\n    at Document.invalidate (/app/node_modules/mongoose/lib/document.js:3358:32)\n    at /app/node_modules/mongoose/lib/document.js:3119:17\n    at /app/node_modules/mongoose/lib/schemaType.js:1416:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)","level":"error","message":"Failed to add push subscription","timestamp":"2025-09-16T07:23:35.218Z","userId":"u123"}
{"error":"ValidationError: NotificationUser validation failed: contact.email: Path `contact.email` is required.\n    at Document.invalidate (/app/node_modules/mongoose/lib/document.js:3358:32)\n    at /app/node_modules/mongoose/lib/document.js:3119:17\n    at /app/node_modules/mongoose/lib/schemaType.js:1416:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)","level":"error","message":"Save error","timestamp":"2025-09-16T07:43:32.600Z","userId":"test-user-001"}
{"error":"ValidationError: NotificationUser validation failed: contact.email: Path `contact.email` is required.\n    at Document.invalidate (/app/node_modules/mongoose/lib/document.js:3358:32)\n    at /app/node_modules/mongoose/lib/document.js:3119:17\n    at /app/node_modules/mongoose/lib/schemaType.js:1416:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)","level":"error","message":"Save error","timestamp":"2025-09-16T07:57:10.294Z","userId":"u123"}
{"error":"ValidationError: NotificationUser validation failed: contact.email: Path `contact.email` is required.\n    at Document.invalidate (/app/node_modules/mongoose/lib/document.js:3358:32)\n    at /app/node_modules/mongoose/lib/document.js:3119:17\n    at /app/node_modules/mongoose/lib/schemaType.js:1416:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)","level":"error","message":"Failed to add push subscription","timestamp":"2025-09-16T07:57:10.294Z","userId":"u123"}
{"error":"ValidationError: NotificationUser validation failed: contact.email: Path `contact.email` is required.\n    at Document.invalidate (/app/node_modules/mongoose/lib/document.js:3358:32)\n    at /app/node_modules/mongoose/lib/document.js:3119:17\n    at /app/node_modules/mongoose/lib/schemaType.js:1416:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)","level":"error","message":"Save error","timestamp":"2025-09-16T07:57:11.330Z","userId":"u123"}
{"error":"ValidationError: NotificationUser validation failed: contact.email: Path `contact.email` is required.\n    at Document.invalidate (/app/node_modules/mongoose/lib/document.js:3358:32)\n    at /app/node_modules/mongoose/lib/document.js:3119:17\n    at /app/node_modules/mongoose/lib/schemaType.js:1416:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)","level":"error","message":"Failed to add push subscription","timestamp":"2025-09-16T07:57:11.330Z","userId":"u123"}
{"error":"ValidationError: NotificationUser validation failed: contact.email: Path `contact.email` is required.\n    at Document.invalidate (/app/node_modules/mongoose/lib/document.js:3358:32)\n    at /app/node_modules/mongoose/lib/document.js:3119:17\n    at /app/node_modules/mongoose/lib/schemaType.js:1416:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)","level":"error","message":"Save error","timestamp":"2025-09-16T07:57:13.371Z","userId":"u123"}
{"error":"ValidationError: NotificationUser validation failed: contact.email: Path `contact.email` is required.\n    at Document.invalidate (/app/node_modules/mongoose/lib/document.js:3358:32)\n    at /app/node_modules/mongoose/lib/document.js:3119:17\n    at /app/node_modules/mongoose/lib/schemaType.js:1416:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)","level":"error","message":"Failed to add push subscription","timestamp":"2025-09-16T07:57:13.371Z","userId":"u123"}
{"error":"ValidationError: NotificationUser validation failed: contact.email: Path `contact.email` is required.\n    at Document.invalidate (/app/node_modules/mongoose/lib/document.js:3358:32)\n    at /app/node_modules/mongoose/lib/document.js:3119:17\n    at /app/node_modules/mongoose/lib/schemaType.js:1416:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)","level":"error","message":"Save error","timestamp":"2025-09-16T07:59:46.511Z","userId":"u123"}
{"error":"ValidationError: NotificationUser validation failed: contact.email: Path `contact.email` is required.\n    at Document.invalidate (/app/node_modules/mongoose/lib/document.js:3358:32)\n    at /app/node_modules/mongoose/lib/document.js:3119:17\n    at /app/node_modules/mongoose/lib/schemaType.js:1416:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)","level":"error","message":"Failed to add push subscription","timestamp":"2025-09-16T07:59:46.511Z","userId":"u123"}
{"error":"ValidationError: NotificationUser validation failed: contact.email: Path `contact.email` is required.\n    at Document.invalidate (/app/node_modules/mongoose/lib/document.js:3358:32)\n    at /app/node_modules/mongoose/lib/document.js:3119:17\n    at /app/node_modules/mongoose/lib/schemaType.js:1416:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)","level":"error","message":"Save error","timestamp":"2025-09-16T07:59:47.538Z","userId":"u123"}
{"error":"ValidationError: NotificationUser validation failed: contact.email: Path `contact.email` is required.\n    at Document.invalidate (/app/node_modules/mongoose/lib/document.js:3358:32)\n    at /app/node_modules/mongoose/lib/document.js:3119:17\n    at /app/node_modules/mongoose/lib/schemaType.js:1416:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)","level":"error","message":"Failed to add push subscription","timestamp":"2025-09-16T07:59:47.539Z","userId":"u123"}
{"error":"ValidationError: NotificationUser validation failed: contact.email: Path `contact.email` is required.\n    at Document.invalidate (/app/node_modules/mongoose/lib/document.js:3358:32)\n    at /app/node_modules/mongoose/lib/document.js:3119:17\n    at /app/node_modules/mongoose/lib/schemaType.js:1416:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)","level":"error","message":"Save error","timestamp":"2025-09-16T07:59:49.568Z","userId":"u123"}
{"error":"ValidationError: NotificationUser validation failed: contact.email: Path `contact.email` is required.\n    at Document.invalidate (/app/node_modules/mongoose/lib/document.js:3358:32)\n    at /app/node_modules/mongoose/lib/document.js:3119:17\n    at /app/node_modules/mongoose/lib/schemaType.js:1416:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)","level":"error","message":"Failed to add push subscription","timestamp":"2025-09-16T07:59:49.569Z","userId":"u123"}
{"error":"ValidationError: NotificationUser validation failed: contact.email: Path `contact.email` is required.\n    at Document.invalidate (/app/node_modules/mongoose/lib/document.js:3358:32)\n    at /app/node_modules/mongoose/lib/document.js:3119:17\n    at /app/node_modules/mongoose/lib/schemaType.js:1416:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)","level":"error","message":"Save error","timestamp":"2025-09-16T08:00:11.496Z","userId":"u123"}
{"error":"ValidationError: NotificationUser validation failed: contact.email: Path `contact.email` is required.\n    at Document.invalidate (/app/node_modules/mongoose/lib/document.js:3358:32)\n    at /app/node_modules/mongoose/lib/document.js:3119:17\n    at /app/node_modules/mongoose/lib/schemaType.js:1416:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)","level":"error","message":"Failed to add push subscription","timestamp":"2025-09-16T08:00:11.496Z","userId":"u123"}
{"error":"ValidationError: NotificationUser validation failed: contact.email: Path `contact.email` is required.\n    at Document.invalidate (/app/node_modules/mongoose/lib/document.js:3358:32)\n    at /app/node_modules/mongoose/lib/document.js:3119:17\n    at /app/node_modules/mongoose/lib/schemaType.js:1416:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)","level":"error","message":"Save error","timestamp":"2025-09-16T08:00:12.532Z","userId":"u123"}
{"error":"ValidationError: NotificationUser validation failed: contact.email: Path `contact.email` is required.\n    at Document.invalidate (/app/node_modules/mongoose/lib/document.js:3358:32)\n    at /app/node_modules/mongoose/lib/document.js:3119:17\n    at /app/node_modules/mongoose/lib/schemaType.js:1416:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)","level":"error","message":"Failed to add push subscription","timestamp":"2025-09-16T08:00:12.533Z","userId":"u123"}
{"error":"ValidationError: NotificationUser validation failed: contact.email: Path `contact.email` is required.\n    at Document.invalidate (/app/node_modules/mongoose/lib/document.js:3358:32)\n    at /app/node_modules/mongoose/lib/document.js:3119:17\n    at /app/node_modules/mongoose/lib/schemaType.js:1416:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)","level":"error","message":"Save error","timestamp":"2025-09-16T08:00:14.564Z","userId":"u123"}
{"error":"ValidationError: NotificationUser validation failed: contact.email: Path `contact.email` is required.\n    at Document.invalidate (/app/node_modules/mongoose/lib/document.js:3358:32)\n    at /app/node_modules/mongoose/lib/document.js:3119:17\n    at /app/node_modules/mongoose/lib/schemaType.js:1416:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)","level":"error","message":"Failed to add push subscription","timestamp":"2025-09-16T08:00:14.564Z","userId":"u123"}
