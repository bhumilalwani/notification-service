<!DOCTYPE html>
<html>
<head>
    <title>FCM Token Test</title>
</head>
<body>
    <h1>FCM Token Generator</h1>
    <button onclick="generateToken()">Generate Token</button>
    <div id="result"></div>

    <!-- Firebase v9 CDN -->
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-messaging-compat.js"></script>

    <script>
        // Real Firebase config
     
const firebaseConfig = {
apiKey: "AIzaSyDLY_KkixQPWyiUY935Nd1MNDNOsAvwMso",
authDomain: "throne8-notifications.firebaseapp.com",
projectId: "throne8-notifications",
storageBucket: "throne8-notifications.firebasestorage.app",
messagingSenderId: "300084629290",
appId: "1:300084629290:web:f105c38f9bb6faf9715853",
measurementId: "G-27MFLHP3YX"
};


        firebase.initializeApp(firebaseConfig);
        const messaging = firebase.messaging();

        async function generateToken() {
            try {
                // Service worker register karo
                await navigator.serviceWorker.register('/firebase-messaging-sw.js');
                
                // Permission request karo
                const permission = await Notification.requestPermission();
                
                if (permission === 'granted') {
                    const token = await messaging.getToken({
                        vapidKey: 'NEW_VAPID_KEY_FROM_CONSOLE' // New key daalo
                    });
                    
                    document.getElementById('result').innerHTML = 
                        <textarea style="width:100%;height:100px;">${token}</textarea>;
                    console.log('Token:', token);
                } else {
                    alert('Permission denied');
                }
            } catch (error) {
                console.error('Error:', error);
                document.getElementById('result').innerHTML = 'Error: ' + error.message;
            }
        }
    </script>
</body>
</html>